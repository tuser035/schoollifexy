# 🖥️ GitHub 소스를 로컬에서 테스트하기

> 중학생도 따라할 수 있는 단계별 가이드입니다!

---

## 📋 목차
1. [필요한 프로그램 설치하기](#1-필요한-프로그램-설치하기)
2. [GitHub에서 소스 가져오기](#2-github에서-소스-가져오기)
3. [프로젝트 설정하기](#3-프로젝트-설정하기)
4. [로컬에서 실행하기](#4-로컬에서-실행하기)
5. [Edge Function 테스트하기](#5-edge-function-테스트하기)

---

## 1. 필요한 프로그램 설치하기

### 1-1. Node.js 설치

Node.js는 자바스크립트를 컴퓨터에서 실행할 수 있게 해주는 프로그램이에요.

1. [Node.js 공식 사이트](https://nodejs.org/ko) 접속
2. **LTS 버전** (왼쪽 초록색 버튼) 다운로드
3. 다운로드된 파일 실행 → Next 계속 클릭 → Install

**설치 확인:**
```bash
# 터미널(명령 프롬프트)에서 입력
node --version
# v20.x.x 같은 버전이 나오면 성공!

npm --version
# 10.x.x 같은 버전이 나오면 성공!
```

### 1-2. Git 설치

Git은 소스 코드를 관리하고 공유하는 프로그램이에요.

1. [Git 공식 사이트](https://git-scm.com/downloads) 접속
2. 운영체제에 맞는 버전 다운로드 (Windows/Mac)
3. 다운로드된 파일 실행 → 기본 설정으로 Next 계속 클릭

**설치 확인:**
```bash
git --version
# git version 2.x.x 같은 버전이 나오면 성공!
```

### 1-3. VS Code 설치 (선택사항, 추천!)

VS Code는 코드를 편집하는 프로그램이에요.

1. [VS Code 공식 사이트](https://code.visualstudio.com/) 접속
2. 다운로드 버튼 클릭
3. 다운로드된 파일 실행하여 설치

---

## 2. GitHub에서 소스 가져오기

### 2-1. 터미널 열기

**Windows:**
- `Win + R` 키 → `cmd` 입력 → Enter
- 또는 시작 메뉴에서 "명령 프롬프트" 검색

**Mac:**
- `Cmd + Space` → "터미널" 검색 → Enter

### 2-2. 작업 폴더로 이동

```bash
# 바탕화면으로 이동
cd Desktop

# 프로젝트 폴더 만들기
mkdir my-projects
cd my-projects
```

### 2-3. GitHub에서 소스 복사하기 (Clone)

```bash
# GitHub 저장소 주소를 복사해서 붙여넣기
git clone https://github.com/사용자이름/저장소이름.git

# 예시:
git clone https://github.com/myschool/school-point.git
```

> 💡 **팁:** GitHub 저장소 페이지에서 초록색 `Code` 버튼을 클릭하면 주소를 복사할 수 있어요!

### 2-4. 프로젝트 폴더로 이동

```bash
cd 저장소이름

# 예시:
cd school-point
```

---

## 3. 프로젝트 설정하기

### 3-1. 필요한 패키지 설치

```bash
npm install
```

> ⏳ 처음에는 시간이 좀 걸려요 (1-3분). `node_modules` 폴더가 생기면 성공!

### 3-2. 환경변수 파일 만들기

프로젝트 폴더에 `.env` 파일을 만들어야 해요.

**방법 1: VS Code 사용**
1. VS Code로 프로젝트 폴더 열기
2. 왼쪽 파일 목록에서 마우스 우클릭 → New File
3. 파일 이름: `.env` (점으로 시작!)

**방법 2: 터미널 사용**
```bash
# Windows
copy nul .env

# Mac/Linux
touch .env
```

### 3-3. 환경변수 내용 입력

`.env` 파일을 열고 아래 내용을 입력:

```env
VITE_SUPABASE_URL=https://여러분의프로젝트ID.supabase.co
VITE_SUPABASE_PUBLISHABLE_KEY=여러분의_anon_key
```

> ⚠️ **중요:** 이 값들은 Supabase 대시보드에서 찾을 수 있어요!
> - Supabase 프로젝트 → Settings → API → URL과 anon key 복사

---

## 4. 로컬에서 실행하기

### 4-1. 개발 서버 시작

```bash
npm run dev
```

성공하면 이런 메시지가 나와요:
```
  VITE v5.x.x  ready in xxx ms

  ➜  Local:   http://localhost:5173/
  ➜  Network: http://192.168.x.x:5173/
```

### 4-2. 브라우저에서 확인

웹 브라우저를 열고 주소창에 입력:
```
http://localhost:5173
```

🎉 **축하합니다!** 로컬에서 앱이 실행되고 있어요!

### 4-3. 서버 종료하기

터미널에서 `Ctrl + C` 키를 누르면 종료됩니다.

---

## 5. Edge Function 테스트하기

Edge Function(이메일 발송 등)을 로컬에서 테스트하려면 추가 설정이 필요해요.

### 5-1. Supabase CLI 설치

```bash
npm install -g supabase
```

**설치 확인:**
```bash
supabase --version
```

### 5-2. Supabase 로그인

```bash
supabase login
```
브라우저가 열리면 Supabase 계정으로 로그인하세요.

### 5-3. 프로젝트 연결

```bash
supabase link --project-ref 프로젝트ID
```

> 💡 프로젝트ID는 Supabase URL에서 찾을 수 있어요:
> `https://프로젝트ID.supabase.co`

### 5-4. Edge Function용 환경변수 파일 만들기

`supabase/functions/.env.local` 파일을 만들고 내용 입력:

```env
SUPABASE_URL=https://프로젝트ID.supabase.co
SUPABASE_ANON_KEY=anon_key값
SUPABASE_SERVICE_ROLE_KEY=service_role_key값
RESEND_API_KEY=resend_api_key값
```

> ⚠️ **중요:** 
> - `SUPABASE_SERVICE_ROLE_KEY`는 Supabase → Settings → API → service_role에서 찾아요
> - 이 키는 비밀이에요! 절대 GitHub에 올리면 안 됩니다!

### 5-5. Edge Function 로컬 실행

```bash
supabase functions serve
```

성공하면:
```
Serving functions on http://localhost:54321/functions/v1/
```

### 5-6. Edge Function 테스트

다른 터미널 창을 열고:

```bash
# 예: send-bulk-email 함수 테스트
curl -X POST http://localhost:54321/functions/v1/send-bulk-email \
  -H "Content-Type: application/json" \
  -d '{"test": true}'
```

---

## 🔧 자주 발생하는 문제 해결

### 문제 1: `npm: command not found`
→ Node.js가 설치되지 않았어요. 1-1단계로 돌아가세요.

### 문제 2: `git: command not found`
→ Git이 설치되지 않았어요. 1-2단계로 돌아가세요.

### 문제 3: `npm install` 에러
```bash
# node_modules 삭제 후 다시 시도
rm -rf node_modules
npm install
```

### 문제 4: 포트 5173이 이미 사용 중
```bash
# 다른 포트로 실행
npm run dev -- --port 3000
```

### 문제 5: 환경변수 인식 안 됨
→ `.env` 파일 위치가 프로젝트 루트(최상위) 폴더인지 확인하세요.

---

## 📚 용어 설명

| 용어 | 설명 |
|------|------|
| **Clone** | GitHub에서 소스 코드를 내 컴퓨터로 복사하는 것 |
| **npm** | Node.js 패키지(라이브러리) 관리자 |
| **npm install** | 프로젝트에 필요한 패키지들을 자동으로 설치 |
| **npm run dev** | 개발 서버를 시작하는 명령어 |
| **localhost** | 내 컴퓨터를 의미하는 주소 |
| **환경변수** | 비밀번호나 API 키 같은 민감한 정보를 저장하는 곳 |
| **Edge Function** | 서버에서 실행되는 함수 (이메일 발송 등) |

---

## 🎯 실습 과제

1. ✅ Node.js, Git 설치하기
2. ✅ GitHub에서 프로젝트 Clone하기
3. ✅ `npm install` 실행하기
4. ✅ `.env` 파일 만들기
5. ✅ `npm run dev`로 로컬 서버 실행하기
6. ✅ 브라우저에서 `http://localhost:5173` 접속하기

모든 과제를 완료하면 여러분도 개발자처럼 로컬에서 테스트할 수 있어요! 🚀

---

*마지막 수정: 2025년 12월 15일*
